:root {
    --appheader-height: calc(var(--spacing) * 12);
}

.appheader {
    @apply flex items-center gap-2 tablet:gap-4 p-2 pt-0 tablet:fixed;

    z-index: 1000;

    margin-top: max(env(safe-area-inset-top, 0), calc(var(--spacing) * 2));

    @media (min-width: 768px) {
        margin-top: 0;
        padding-top: max(env(safe-area-inset-top, 0), calc(var(--spacing) * 2));
    }

    -webkit-app-region: drag;
    height: max(
        env(titlebar-area-height, var(--appheader-height)),
        var(--appheader-height)
    );
    width: env(titlebar-area-width, 100%);
}

.appheader .btn.outline-btn {
    @apply focus-visible:outline-2 focus-visible:outline-subtle-dark;
    --btn-border-color: var(--color-subtle-extra-light);
    --btn-bg: var(--color-subtle);

    &:hover {
        @apply shadow-sm;
        --btn-bg: transparent;
        --btn-color: var(--color-subtle-extra-dark);
        --btn-border-color: var(--color-subtle-light);
    }
}

.appheader .settings-nav-button {
    @apply relative z-[1000] px-1! py-0! text-lg size-10 tablet:size-8.5;

    svg {
        @apply size-4;
    }
}

:root.dark .appheader .settings-nav-button {
    /* biome-ignore lint/complexity/noImportantStyles: must be overriden */
    border-color: var(--color-subtle) !important;
}

body.platform-macos .appheader {
    @apply pe-4;

    & > .btn:first-child {
        @apply mt-6;
    }
}

@media (width < 1024px) {
    :root:has(.main-screen.has-subscreen),
    :root:has(.new-memo-screen) {
        .appheader {
            height: max(
                env(titlebar-area-height, var(--appheader-height)),
                var(--appheader-height)
                /* biome-ignore lint/complexity/noImportantStyles: must be overriden */
            ) !important;
        }

        .appheader > * {
            display: none;
        }
    }
}
